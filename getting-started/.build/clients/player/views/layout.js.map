{"version":3,"names":["LitElement","html","render","css","nothing","SimpleLayout","styles","constructor","_client","_components","Set","_showCredits","addComponent","comp","add","requestUpdate","deleteComponent","delete","toggleCredits","Array","from","map","client","customElements","define","createLayout","$container","layoutId","role","id","$layout","document","querySelector"],"sources":["../../../../src/clients/player/views/layout.js"],"sourcesContent":["import { LitElement, html, render, css, nothing } from 'lit';\n\nimport '../../components/sw-infos-button.js';\nimport '../../components/sw-credits.js';\n\n/**\n * This simple layout is provided for convenience, feel free to edit or even\n * remove it if you want to use you own logic.\n *\n * @example\n * const $layout = createLayout(client, $container);\n * const myComponent = {\n *   render() {\n *     return html`<h1>${Math.random()}</h1>`\n *   },\n * };\n * $layout.addComponent(myComponent);\n * setInterval(() => $layout.requestUpdate(), 1000);\n */\nclass SimpleLayout extends LitElement {\n  static get styles() {\n    return css`\n      :host {\n        display: block;\n        min-height: 100vh;\n      }\n\n      :host > div {\n        padding: 20px;\n\n      }\n\n      sw-infos-button {\n        position: fixed;\n        bottom: 20px;\n        right: 20px;\n        z-index: 1001;\n      }\n\n      sw-credits {\n        position: fixed;\n        bottom: 0;\n        left: 0;\n        z-index: 1000;\n        width: 100vw;\n      }\n    `;\n  }\n\n  constructor() {\n    super();\n\n    this._client = null;\n    this._components = new Set();\n\n    this._showCredits = false;\n  }\n\n  // comp is anything that have a render method\n  addComponent(comp) {\n    this._components.add(comp);\n    this.requestUpdate();\n  }\n\n  deleteComponent(comp) {\n    this._components.delete(comp);\n    this.requestUpdate();\n  }\n\n  toggleCredits() {\n    this._showCredits = !this._showCredits;\n    this.requestUpdate();\n  }\n\n  render() {\n    return html`\n      <div>\n        ${Array.from(this._components).map(comp => comp.render ? comp.render() : comp)}\n\n        <!-- credits -->\n        ${this._showCredits ? html`<sw-credits .client=\"${this.client}\"></sw-credits>` : nothing}\n        <sw-infos-button @click=\"${this.toggleCredits}\"></sw-infos-button>\n      </div>\n    `;\n  }\n}\n\ncustomElements.define('simple-layout', SimpleLayout);\n\nexport default function createLayout(client, $container) {\n  const layoutId = `${client.role}-${client.id}`;\n\n  render(html`\n    <simple-layout\n      .client=\"${client}\"\n      id=\"${layoutId}\"\n    ></simple-layout>\n  `, $container);\n\n  const $layout = document.querySelector(`#${layoutId}`);\n\n  return $layout;\n}\n"],"mappings":"AAAA,SAASA,UAAU,EAAEC,IAAI,EAAEC,MAAM,EAAEC,GAAG,EAAEC,OAAO,QAAQ,KAAK;AAE5D,OAAO,qCAAqC;AAC5C,OAAO,gCAAgC;;AAEvC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAMC,YAAY,SAASL,UAAU,CAAC;EACpC,WAAWM,MAAM,GAAG;IAClB,OAAOH,GAAI;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;EACH;EAEAI,WAAW,GAAG;IACZ,KAAK,EAAE;IAEP,IAAI,CAACC,OAAO,GAAG,IAAI;IACnB,IAAI,CAACC,WAAW,GAAG,IAAIC,GAAG,EAAE;IAE5B,IAAI,CAACC,YAAY,GAAG,KAAK;EAC3B;;EAEA;EACAC,YAAY,CAACC,IAAI,EAAE;IACjB,IAAI,CAACJ,WAAW,CAACK,GAAG,CAACD,IAAI,CAAC;IAC1B,IAAI,CAACE,aAAa,EAAE;EACtB;EAEAC,eAAe,CAACH,IAAI,EAAE;IACpB,IAAI,CAACJ,WAAW,CAACQ,MAAM,CAACJ,IAAI,CAAC;IAC7B,IAAI,CAACE,aAAa,EAAE;EACtB;EAEAG,aAAa,GAAG;IACd,IAAI,CAACP,YAAY,GAAG,CAAC,IAAI,CAACA,YAAY;IACtC,IAAI,CAACI,aAAa,EAAE;EACtB;EAEAb,MAAM,GAAG;IACP,OAAOD,IAAK;AAChB;AACA,UAAUkB,KAAK,CAACC,IAAI,CAAC,IAAI,CAACX,WAAW,CAAC,CAACY,GAAG,CAACR,IAAI,IAAIA,IAAI,CAACX,MAAM,GAAGW,IAAI,CAACX,MAAM,EAAE,GAAGW,IAAI,CAAE;AACvF;AACA;AACA,UAAU,IAAI,CAACF,YAAY,GAAGV,IAAK,wBAAuB,IAAI,CAACqB,MAAO,iBAAgB,GAAGlB,OAAQ;AACjG,mCAAmC,IAAI,CAACc,aAAc;AACtD;AACA,KAAK;EACH;AACF;AAEAK,cAAc,CAACC,MAAM,CAAC,eAAe,EAAEnB,YAAY,CAAC;AAEpD,eAAe,SAASoB,YAAY,CAACH,MAAM,EAAEI,UAAU,EAAE;EACvD,MAAMC,QAAQ,GAAI,GAAEL,MAAM,CAACM,IAAK,IAAGN,MAAM,CAACO,EAAG,EAAC;EAE9C3B,MAAM,CAACD,IAAK;AACd;AACA,iBAAiBqB,MAAO;AACxB,YAAYK,QAAS;AACrB;AACA,GAAG,EAAED,UAAU,CAAC;EAEd,MAAMI,OAAO,GAAGC,QAAQ,CAACC,aAAa,CAAE,IAAGL,QAAS,EAAC,CAAC;EAEtD,OAAOG,OAAO;AAChB"}
